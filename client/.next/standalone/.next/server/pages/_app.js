(()=>{var e={};e.id=888,e.ids=[888],e.modules={8107:(e,t,r)=>{"use strict";r.a(e,async(e,o)=>{try{r.d(t,{W:()=>d,c:()=>u});var a=r(997),s=r(6689),p=r(76),n=e([p]);p=(n.then?(await n)():n)[0];let i=(0,s.createContext)(void 0),d=()=>{let e=(0,s.useContext)(i);if(void 0===e)throw Error("useProperty must be used within a PropertyProvider");return e},u=({children:e})=>{let[t,r]=(0,s.useState)(null),[o,n]=(0,s.useState)([]),[d,u]=(0,s.useState)(!1),l=async()=>{u(!0);try{let e=await p.hi.get("/properties");n(e.data),t||e.data.length}catch(e){console.error("Failed to load properties:",e)}finally{u(!1)}};return(0,s.useEffect)(()=>{l()},[]),a.jsx(i.Provider,{value:{selectedProperty:t,setSelectedProperty:e=>{r(e)},properties:o,loadProperties:l,isLoading:d},children:e})};o()}catch(e){o(e)}})},5913:(e,t,r)=>{"use strict";r.a(e,async(e,o)=>{try{r.r(t),r.d(t,{default:()=>i});var a=r(997);r(6689);var s=r(6201),p=r(8107);r(6764);var n=e([s,p]);function i({Component:e,pageProps:t}){return(0,a.jsxs)(p.c,{children:[a.jsx(e,{...t}),a.jsx(s.Toaster,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})}[s,p]=n.then?(await n)():n,o()}catch(e){o(e)}})},76:(e,t,r)=>{"use strict";r.a(e,async(e,o)=>{try{r.d(t,{Cj:()=>u,R2:()=>i,fH:()=>c,hi:()=>n,pr:()=>l,wT:()=>d});var a=r(9648),s=e([a]);a=(s.then?(await s)():s)[0];let p=process.env.NEXT_PUBLIC_API_URL||"https://web-production-ff93.up.railway.app",n=a.default.create({baseURL:`${p}/api`,timeout:3e4,headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>e,e=>Promise.reject(e)),n.interceptors.response.use(e=>e,e=>(console.error("API Error:",e.response?.data||e.message),Promise.reject(e)));let i={sendMessage:(e,t)=>n.post("/chat",{messages:e,propertyId:t}),sendMessageWithFile:e=>n.post("/chat",e,{headers:{"Content-Type":"multipart/form-data"}}),health:()=>n.get("/health")},d={getAll:e=>n.get(`/rooms?property_id=${e}`),getById:e=>n.get(`/rooms/${e}`),create:e=>n.post("/rooms",e),update:(e,t)=>n.put(`/rooms/${e}`,t),delete:e=>n.delete(`/rooms/${e}`)},u={getAll:e=>n.get(`/inventory?property_id=${e}`),getById:e=>n.get(`/inventory/${e}`),create:e=>n.post("/inventory",e),update:(e,t)=>n.put(`/inventory/${e}`,t),delete:e=>n.delete(`/inventory/${e}`)},l={getAll:e=>n.get(`/unions?property_id=${e}`),getById:e=>n.get(`/unions/${e}`),create:e=>n.post("/unions",e),update:(e,t)=>n.put(`/unions/${e}`,t),delete:e=>n.delete(`/unions/${e}`)},c={uploadInventory:(e,t,r=!1)=>{let o=new FormData;return o.append("file",t),o.append("property_id",e.toString()),o.append("replace_existing",r.toString()),n.post("/import/inventory",o,{headers:{"Content-Type":"multipart/form-data"},timeout:6e4})},uploadRooms:(e,t)=>{let r=new FormData;return r.append("file",t),r.append("property_id",e.toString()),n.post("/import/rooms",r,{headers:{"Content-Type":"multipart/form-data"}})},uploadLaborRules:(e,t)=>{let r=new FormData;return r.append("file",t),r.append("property_id",e.toString()),n.post("/import/labor",r,{headers:{"Content-Type":"multipart/form-data"}})},downloadTemplate:()=>n.get("/import/template",{responseType:"blob"}),exportData:e=>n.get(`/import/export?property_id=${e}`,{responseType:"blob"})};o()}catch(e){o(e)}})},6764:()=>{},6689:e=>{"use strict";e.exports=require("react")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},9648:e=>{"use strict";e.exports=import("axios")},6201:e=>{"use strict";e.exports=import("react-hot-toast")}};var t=require("../webpack-runtime.js");t.C(e);var r=t(t.s=5913);module.exports=r})();